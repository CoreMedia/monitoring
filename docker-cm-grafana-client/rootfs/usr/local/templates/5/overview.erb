{
  "dashboard": {
    "uid": "<%= uuid %>",
    "id": null,
    "title": "<%= slug %> - Overview",
    "tags": [ "<%= short_hostname %>", "overview" ],
    "schemaVersion": 12,
    "version": 0,
    "style": "dark",
    "refresh": "1m",
    "time": { "from": "now-2m", "to": "now" },
    "timepicker": {
      "refresh_intervals": [ "30s", "1m", "2m" ],
      "time_options": [ "1m", "3m", "5m", "15m" ]
    },
    "timezone": "browser",
    "hideControls": true,
    "annotations": {
      "list": []
    },
    "templating": {
      "list": [
        {
          "label": null,
          "current": {
            "text": "<%= slug %>",
            "value": "<%= graphite_identifier %>"
          },
          "type": "constant",
          "name": "host",
          "options": [
              {
              "text": "<%= slug %>",
              "value": "<%= graphite_identifier %>"
            }
          ],
          "query": "<%= graphite_identifier %>",
          "hide": 2
        },
        {
          "hide": 2,
          "query": "<%= slug %>",
          "options": [
              {
              "value": "<%= graphite_identifier %>",
              "selected": true,
              "text": "<%= slug %>"
            }
          ],
          "name": "RLS",
          "type": "constant",
          "current": {
            "text": "<%= slug %>",
            "value": "<%= graphite_identifier %>"
          },
          "label": null
        },
        {
          "name": "MLS",
          "type": "constant",
          "current": {
            "value": "<%= graphite_identifier %>",
            "text": "<%= slug %>"
          },
          "label": null,
          "hide": 2,
          "query": "<%= slug %>",
          "options": [
              {
              "selected": true,
              "value": "<%= graphite_identifier %>",
              "text": "<%= slug %>"
            }
          ]
        }
      ]
    },

    "panels": [
<%-
  id = 10;
  y = 0;
  count = 0;
  widget_width = 2;
  max_widget_width = 19;

  size = service_dashboard_data.size;

  key = 'node-exporter'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Operating System</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.NODE_EXPORTER.uptime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "s",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          { "op": "=", "value": "0", "text": "OFFLINE" }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.NODE_EXPORTER.file_descriptor.allocated" }
        ],
        "thresholds": "3400,4000",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used RAM",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "format": "none",
        "interval": null,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.NODE_EXPORTER.memory.used_percent" }
        ],
        "thresholds": "80,90",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used SWAP",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.NODE_EXPORTER.swap.used_percent" }
        ],
        "thresholds": "40,50",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Filesystem",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.NODE_EXPORTER.filesystem.rootfs.used_percent" }
        ],
        "thresholds": "80,90",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "load",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "tableColumn": "",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.NODE_EXPORTER.load.shortterm" }
        ],
        "thresholds": "1,2",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          },
          {
            "op": "=",
            "text": "",
            "value": ""
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CPU Cores",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "tableColumn": "",
        "targets": [
          { "refId": "A", "target": "sumSeries(offset(scale(carbon-writer.$host.NODE_EXPORTER.cpu.cpu*.system, 0), 1))" }
        ],
        "thresholds": "",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          },
          {
            "op": "=",
            "text": "",
            "value": ""
          }
        ],
        "valueName": "current"
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'http-status'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">HTTP</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.HTTP_STATUS.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "s",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "workers busy",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.HTTP_STATUS.workers.busy" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": []
      },
      {
        "title": "workers idle",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.HTTP_STATUS.workers.idle" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": []
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'content-management-server'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CMS</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CMS.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CMS.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": " %",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CMS.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "Runlevel",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CMS.Server.runlevel" }
        ],
        "links": [],
        "datasource": null,
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "Offline"
          },
          {
            "value": "1",
            "op": "=",
            "text": "Online"
          },
          {
            "value": "10",
            "op": "=",
            "text": "Maintenance"
          },
          {
            "value": "11",
            "op": "=",
            "text": "Administration"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "50%",
        "thresholds": "1,2",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)"
        ]
      },
      {
        "title": "License [days]",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CMS.Server.license.until.hard.days" }
        ],
        "thresholds": "20,10",
        "links": [],
        "datasource": "graphite",
        "format": "none",
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "100%",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(50, 172, 45, 0.97)"
        ]
      },
      {
        "title": "connections to MLS",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CMS.Publisher.connected" }
        ],
        "thresholds": "55,90",
        "links": [],
        "datasource": "graphite",
        "valueMaps": [
          { "op": "=", "value": "55", "text": "N/A" },
          { "op": "=", "value": "90", "text": "not connected" },
          { "op": "=", "value": "10", "text": "connected" }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "format": "none",
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)"
        ]
      },
      {
        "title": "Last publication",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CMS.Publisher.last_publications_result" }
        ],
        "datasource": "graphite",
        "format": "none",
        "valueMaps": [
          { "op": "=", "value": "55", "text": "N/A" },
          { "op": "=", "value": "90", "text": "failed" },
          { "op": "=", "value": "10", "text": "successful" }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "55,90",
        "colorBackground": true,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)"
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'master-live-server'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">MLS</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MLS.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MLS.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MLS.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "Runlevel",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MLS.Server.runlevel" }
        ],
        "links": [],
        "datasource": null,
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "Offline"
          },
          {
            "value": "1",
            "op": "=",
            "text": "Online"
          },
          {
            "value": "10",
            "op": "=",
            "text": "Maintenance"
          },
          {
            "value": "11",
            "op": "=",
            "text": "Administration"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "50%",
        "thresholds": "1,2",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)"
        ]
      },
      {
        "title": "License [days]",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MLS.Server.license.until.hard.days" }
        ],
        "thresholds": "20,10",
        "links": [],
        "datasource": "graphite",
        "format": "none",
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "100%",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(50, 172, 45, 0.97)"
        ]
      },
      {
        "title": "Sequence Number",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MLS.Server.Repository.SequenceNumber" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'replication-live-server'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">RLS</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.RLS.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.RLS.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.RLS.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "Runlevel",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.RLS.Server.runlevel" }
        ],
        "links": [],
        "datasource": null,
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "Offline"
          },
          {
            "value": "1",
            "op": "=",
            "text": "Online"
          },
          {
            "value": "10",
            "op": "=",
            "text": "Maintenance"
          },
          {
            "value": "11",
            "op": "=",
            "text": "Administration"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "50%",
        "thresholds": "1,2",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)"
        ]
      },
      {
        "title": "License [days]",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A",  "target": "carbon-writer.$host.RLS.Server.license.until.hard.days" }
        ],
        "thresholds": "20,10",
        "links": [],
        "datasource": "graphite",
        "format": "none",
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "100%",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(50, 172, 45, 0.97)"
        ]
      },
      {
        "title": "Sequence Number",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.RLS.Replicator.completedSequenceNumber" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "diff Sequence Numbers",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.RLS.SequenceNumber.diffToMLS" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "100,300",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'workflow-server'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">WFS</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.WFS.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.WFS.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.WFS.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.WFS.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.WFS.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.WFS.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Workflow Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.WFS.CapConnection.WorkflowRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'solr-master'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Solr Master</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.SOLR_MASTER.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.SOLR_MASTER.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "200,300",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.SOLR_MASTER.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'content-feeder'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Content Feeder</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_CONTENT.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_CONTENT.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_CONTENT.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_CONTENT.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "Pending Events",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_CONTENT.Feeder.pending_events" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "200,500",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Pending Documents",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_CONTENT.Feeder.current_pending_documents" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "200,500",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_CONTENT.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'caefeeder-live'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Feeder Live</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "max Feeder Elements",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.ProactiveEngine.feeder.entries.max" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          { "value": "null", "op": "=", "text": "N/A" }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Feeder Elements",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.ProactiveEngine.feeder.entries.diff" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "200,500",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "State",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.Health.healthy" }
        ],
        "links": [],
        "datasource": "graphite",
        "format": "none",
        "nullText": null,
        "valueMaps": [
          {
            "value": "1",
            "op": "=",
            "text": "HEALTHY"
          },
          {
            "value": "0",
            "op": "=",
            "text": "UNHEALTHY"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueFontSize": "70%",
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "thresholds": "0,1",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ]
      },
      {
        "title": "HeartBeat",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.ProactiveEngine.feeder.heartbeat" }
        ],
        "links": [],
        "datasource": null,
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        },
        "decimals": 0
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_LIVE.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'caefeeder-preview'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Feeder Preview</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "max Feeder Elements",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.ProactiveEngine.feeder.entries.max" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          { "value": "null", "op": "=", "text": "N/A" }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Feeder Elements",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.ProactiveEngine.feeder.entries.diff" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "200,500",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "State",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.Health.healthy" }
        ],
        "links": [],
        "datasource": "graphite",
        "format": "none",
        "nullText": null,
        "valueMaps": [
          {
            "value": "1",
            "op": "=",
            "text": "HEALTHY"
          },
          {
            "value": "0",
            "op": "=",
            "text": "UNHEALTHY"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueFontSize": "70%",
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "thresholds": "0,1",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ]
      },
      {
        "title": "HeartBeat",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.ProactiveEngine.feeder.heartbeat" }
        ],
        "links": [],
        "datasource": null,
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "50%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        },
        "decimals": 0
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.FEEDER_PREV.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-1'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 1</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_1.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_1.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_1.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_1.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_1.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_1.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_1.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-2'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 2</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_2.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_2.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_2.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_2.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_2.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_2.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_2.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-3'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 3</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_3.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_3.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_3.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_3.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_3.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_3.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_3.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-4'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 4</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_4.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_4.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_4.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_4.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_4.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_4.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_4.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-5'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 5</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_5.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_5.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_5.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_5.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_5.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_5.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_5.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-6'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 6</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_6.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_6.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_6.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_6.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_6.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_6.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_6.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-7'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 7</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_7.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_7.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_7.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_7.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_7.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_7.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_7.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-8'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 8</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_8.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_8.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_8.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_8.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_8.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_8.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_8.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-live-9'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Live 9</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_9.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_9.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_9.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_9.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_9.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_9.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_LIVE_9.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'cae-preview'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">CAE Preview</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_PREV.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_PREV.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_PREV.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_PREV.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_PREV.CapConnection.blob.cache.used_percent"  }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_PREV.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.CAE_PREV.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'elastic-worker'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Elastic Worker</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ELASTIC_WORKER.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ELASTIC_WORKER.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ELASTIC_WORKER.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ELASTIC_WORKER.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ELASTIC_WORKER.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ELASTIC_WORKER.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'adobe-drive-server'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Adobe Drive</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ADOBE_DRIVE_SERVER.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ADOBE_DRIVE_SERVER.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ADOBE_DRIVE_SERVER.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ADOBE_DRIVE_SERVER.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ADOBE_DRIVE_SERVER.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.ADOBE_DRIVE_SERVER.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'user-changes'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">User Changes</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.USER_CHANGES.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.USER_CHANGES.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.USER_CHANGES.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.USER_CHANGES.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.USER_CHANGES.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.USER_CHANGES.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'studio'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">Studio</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.Runtime.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "ms",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.OperatingSystem.file_descriptor.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": " %",
        "postfixFontSize": "80%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.Memory.heap_memory.used_percent" }
        ],
        "thresholds": "85,95",
        "type": "singlestat",
        "valueFontSize": "100%",
        "valueMaps": [
          {
            "op": "=",
            "text": "N/A",
            "value": "null"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "CapConnection",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "cacheTimeout": null,
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(245, 54, 54, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "datasource": "graphite",
        "editable": true,
        "error": false,
        "format": "none",
        "gauge": {
          "maxValue": 100,
          "minValue": 0,
          "show": false,
          "thresholdLabels": false,
          "thresholdMarkers": true
        },
        "interval": null,
        "isNew": true,
        "links": [],
        "mappingType": 1,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "maxDataPoints": 100,
        "nullPointMode": "connected",
        "nullText": null,
        "postfix": "",
        "postfixFontSize": "70%",
        "prefix": "",
        "prefixFontSize": "50%",
        "rangeMaps": [
          {
            "from": "null",
            "text": "N/A",
            "to": "null"
          }
        ],
        "span": 1,
        "sparkline": {
          "fillColor": "rgba(31, 118, 189, 0.18)",
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "show": false
        },
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.CapConnection.open" }
        ],
        "thresholds": "0,1",
        "type": "singlestat",
        "valueFontSize": "80%",
        "valueMaps": [
          {
            "op": "=",
            "text": "closed",
            "value": "0"
          },
          {
            "value": "1",
            "op": "=",
            "text": "open"
          },
          {
            "value": "-1",
            "op": "=",
            "text": "N/A"
          }
        ],
        "valueName": "current"
      },
      {
        "title": "used Blob Cache",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.CapConnection.blob.cache.used_percent" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": " %",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "90,95",
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Lightweight Sessions",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.CapConnection.su_sessions.sessions" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "none",
        "prefix": "",
        "postfix": "",
        "nullText": null,
        "valueMaps": [
          {
            "value": "null",
            "op": "=",
            "text": "N/A"
          }
        ],
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "rangeMaps": [
          {
            "from": "null",
            "to": "null",
            "text": "N/A"
          }
        ],
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "prefixFontSize": "50%",
        "valueFontSize": "80%",
        "postfixFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "colors": [
          "rgba(50, 172, 45, 0.97)",
          "rgba(237, 129, 40, 0.89)",
          "rgba(245, 54, 54, 0.9)"
        ],
        "sparkline": {
          "show": false,
          "full": false,
          "lineColor": "rgb(31, 120, 193)",
          "fillColor": "rgba(31, 118, 189, 0.18)"
        },
        "gauge": {
          "show": false,
          "minValue": 0,
          "maxValue": 100,
          "thresholdMarkers": true,
          "thresholdLabels": false
        }
      },
      {
        "title": "Workflow Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.CapConnection.WorkflowRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "title": "Content Repository",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "datasource": "graphite",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.STUDIO.CapConnection.ContentRepository.available" }
        ],
        "colorBackground": true,
        "colorValue": false,
        "colors": [
          "rgba(82, 82, 82, 0.9)",
          "rgba(245, 54, 54, 0.9)",
          "rgba(50, 172, 45, 0.97)"
        ],
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "0,1",
        "mappingType": 2,
        "mappingTypes": [
          { "value": 1, "name": "value to text" },
          { "value": 2, "name": "range to text" }
        ],
        "valueMaps": [
          { "op": "=", "value": "-1", "text": "N/A" },
          { "op": "=", "value": "0",  "text": "not available" },
          { "op": "=", "value": "1",  "text": "available" }
        ],
        "rangeMaps": [
          { "from": "-1", "to": "null", "text": "N/A" },
          { "from": "0" , "to": "0"   , "text": "not available" },
          { "from": "1" , "to": "1"   , "text": "available" }
        ]
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'mongodb'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">MongoDB</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "error": false,
        "span": 1,
        "editable": true,
        "type": "singlestat",
        "isNew": true,
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MONGODB.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "s",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MONGODB.storage-engine.wiredTiger.connection.files.open" }
        ],
        "thresholds": "150,200",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "Connections",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MONGODB.connections.current" }
        ],
        "thresholds": "85,95",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "used Heap Memory",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": " %",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MONGODB.memory.heap.used_percent" }
        ],
        "thresholds": "85,95",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
    y += 3
  end
  # ----------------------------------------------------------------------------------------------
  key = 'mysql'
  if(service_dashboard_data.keys.include?(key))
    size -= 1
    x = -2
    d = service_dashboard_data[key]
    url = d['url']
    name = d['normalized_name']
-%>
      {
        "content": "<h3><center><bold><a href=\"<%= url %>\">MySQL</a></bold></center></h3>",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "links": [],
        "mode": "html",
        "span": 1,
        "title": "",
        "type": "text"
      },
      {
        "title": "Service Uptime",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "span": 1,
        "type": "singlestat",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MYSQL.uptime" }
        ],
        "links": [],
        "datasource": "graphite",
        "maxDataPoints": 100,
        "interval": null,
        "cacheTimeout": null,
        "format": "s",
        "nullText": null,
        "mappingType": 1,
        "nullPointMode": "connected",
        "valueName": "current",
        "valueFontSize": "70%",
        "thresholds": "",
        "colorBackground": false,
        "colorValue": false,
        "decimals": 0,
        "valueMaps": [
          {
            "value": "0",
            "op": "=",
            "text": "OFFLINE"
          }
        ]
      },
      {
        "title": "Open Files",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MYSQL.innodb.num.open_files" }
        ],
        "thresholds": "300,350",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "title": "Connections",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= widget_width %>, "h": 3 },
        "transparent": true,
        "type": "singlestat",
        "span": 1,
        "colorBackground": true,
        "colors": [ "rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)" ],
        "datasource": "graphite",
        "format": "none",
        "postfix": "",
        "postfixFontSize": "80%",
        "targets": [
          { "refId": "A", "target": "carbon-writer.$host.MYSQL.threads.connected" }
        ],
        "thresholds": "20,30",
        "valueFontSize": "100%",
        "valueName": "current"
      },
      {
        "content": "",
        "id": <%= id += 1 %>,
        "gridPos": { "x": <%= x += widget_width %>, "y": <%= y %>, "w": <%= max_widget_width + widget_width - x %>, "h": 3 },
        "transparent": true,
        "mode": "html",
        "title": "",
        "type": "text"
      }<%= ',' unless(size == 0) %>
<%-
  end
-%>
    ]
  }
}
